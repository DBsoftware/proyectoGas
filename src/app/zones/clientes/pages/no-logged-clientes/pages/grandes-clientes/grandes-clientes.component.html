<div
  fxLayoutAlign="center start"
  fxLayout="row">
    <form
      fxLayoutGap="10px"
      fxLayout="column"
      fxLayoutAlign="center start"
      class="mat-elevation-z2 padding25 general-card-border"
      [formGroup]="form">
        <h1 class="mat-h1">Grandes clientes - Solicitud de servicio</h1>
        <mat-form-field
          appearance="outline">
          <mat-label>Tipo de identificación</mat-label>
          <mat-select
            required
            placeholder="Seleccione un tipo de identificación"
            formControlName="tipo_identificacion">
            <mat-option value="">
              Seleccione una opción
            </mat-option>
            <mat-option *ngFor="let option of tipoIdentifacion$ | async"
                        [value]="option.id">
              {{  option.description }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="form.get('tipo_identificacion').status === 'INVALID'">
            <app-form-errors
              errorPrefix="Seleccionar un tipo de identificación es requerido"
              [errors]="form.get('tipo_identificacion').errors">
            </app-form-errors>
          </mat-error>
        </mat-form-field>
        <mat-form-field
          appearance="outline">
          <mat-label>Identificación tributaria</mat-label>
          <input
            required
            type="text"
            matInput
            placeholder="Escribe la identificación tributaria"
            formControlName="identificacion_tributaria">
          <mat-error *ngIf="form.get('identificacion_tributaria').status === 'INVALID'">
            <app-form-errors
              errorPrefix="Este campo es requerido"
              [errors]="form.get('identificacion_tributaria').errors">
            </app-form-errors>
          </mat-error>
        </mat-form-field>
      <mat-form-field
        appearance="outline">
        <mat-label>Empresa</mat-label>
        <input
          required
          type="text"
          matInput
          placeholder="Escribe el nombre de la empresa"
          formControlName="empresa">
        <mat-error *ngIf="form.get('empresa').status === 'INVALID'">
          <app-form-errors
            errorPrefix="Este campo es requerido"
            [errors]="form.get('empresa').errors">
          </app-form-errors>
        </mat-error>
      </mat-form-field>
      <mat-form-field
        appearance="outline">
        <mat-label>Cargo</mat-label>
        <input
          required
          type="text"
          matInput
          placeholder="Escribe el cargo"
          formControlName="cargo">
        <mat-error *ngIf="form.get('cargo').status === 'INVALID'">
          <app-form-errors
            errorPrefix="Este campo es requerido"
            [errors]="form.get('cargo').errors">
          </app-form-errors>
        </mat-error>
      </mat-form-field>
      <div fxFill
           fxLayoutGap="6px"
           fxLayout="row">
              <mat-form-field
                appearance="outline">
                <mat-label>Primer nombre</mat-label>
                <input
                  type="text"
                  required
                  matInput
                  placeholder="Escribe tu  nombre"
                  formControlName="nombre">
                <mat-error *ngIf="form.get('nombre').status === 'INVALID'">
                  <app-form-errors
                    errorPrefix="Este campo es requerido"
                    [errors]="form.get('nombre').errors">
                  </app-form-errors>
                </mat-error>
              </mat-form-field>
              <mat-form-field
                appearance="outline">
                <mat-label>Segundo nombre</mat-label>
                <input
                  type="text"
                  matInput
                  placeholder="Escribe tu  nombre"
                  formControlName="nombre2">
                <mat-error *ngIf="form.get('nombre2').status === 'INVALID'">
                  <app-form-errors
                    errorPrefix="Este campo es requerido"
                    [errors]="form.get('nombre2').errors">
                  </app-form-errors>
                </mat-error>
              </mat-form-field>
      </div>
      <div
        fxFill
        fxLayout="row"
        fxLayoutGap="6px">
          <mat-form-field
            appearance="outline">
            <mat-label>Primer apellido</mat-label>
            <input
              required
              type="text"
              matInput
              placeholder="Escribe tu  apellido"
              formControlName="apellido">
            <mat-error *ngIf="form.get('apellido').status === 'INVALID'">
              <app-form-errors
                errorPrefix="Este campo es requerido"
                [errors]="form.get('apellido').errors">
              </app-form-errors>
            </mat-error>
          </mat-form-field>
          <mat-form-field
            appearance="outline">
            <mat-label>Segundo apellido</mat-label>
            <input
              type="text"
              matInput
              placeholder="Escribe tu segundo apellido"
              formControlName="apellido2">
            <mat-error *ngIf="form.get('apellido2').status === 'INVALID'">
              <app-form-errors
                errorPrefix="Este campo es requerido"
                [errors]="form.get('apellido2').errors">
              </app-form-errors>
            </mat-error>
          </mat-form-field>
      </div>
      <mat-form-field
        appearance="outline">
        <mat-label>Teléfono celular</mat-label>
        <input
          required
          type="text"
          matInput
          placeholder="Escribe tu celular"
          formControlName="celular">
        <mat-error *ngIf="form.get('celular').status === 'INVALID'">
          <app-form-errors
            errorPrefix="Este campo es requerido"
            [errors]="form.get('celular').errors">
          </app-form-errors>
        </mat-error>
      </mat-form-field>
      <mat-form-field
        appearance="outline">
        <mat-label>Teléfono fijo</mat-label>
        <input
          required
          type="text"
          matInput
          placeholder="Escribe tu teléfono fijo"
          formControlName="telefono">
        <mat-error *ngIf="form.get('telefono').status === 'INVALID'">
          <app-form-errors
            errorPrefix="Este campo es requerido"
            [errors]="form.get('telefono').errors">
          </app-form-errors>
        </mat-error>
      </mat-form-field>
      <mat-form-field
        appearance="outline">
        <mat-label>Email</mat-label>
        <input
          required
          type="email"
          matInput
          placeholder="Escribe tu email"
          formControlName="email">
        <mat-error *ngIf="form.get('email').status === 'INVALID'">
          <app-form-errors
            errorPrefix="Este campo es requerido"
            [errors]="form.get('email').errors">
          </app-form-errors>
        </mat-error>
      </mat-form-field>
      <mat-form-field
        appearance="outline">
        <mat-label>Rectificación de Email</mat-label>
        <input
          required
          type="email"
          matInput
          placeholder="Rectifica tu correo"
          formControlName="email_rectificar">
        <mat-error *ngIf="form.get('email_rectificar').status === 'INVALID'">
          <app-form-errors
            errorPrefix="Este campo es requerido"
            [errors]="form.get('email_rectificar').errors">
          </app-form-errors>
        </mat-error>
      </mat-form-field>
      <mat-form-field
        appearance="outline">
        <mat-label>Solución energética que le interesa</mat-label>
        <mat-select
          required
          placeholder="Seleccione un tipo de solucion"
          formControlName="solucion_energetica">
          <mat-option value="">
            Seleccione una opción
          </mat-option>
          <mat-option
            (click)="enableOtherOpcion(option)"
            *ngFor="let option of solucionEnergetica$ | async"
                      [value]="option.id">
            {{ option.description }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="form.get('solucion_energetica').status === 'INVALID'">
          <app-form-errors
            errorPrefix="Seleccionar un tipo de identificación es requerido"
            [errors]="form.get('solucion_energetica').errors">
          </app-form-errors>
        </mat-error>
      </mat-form-field>
      <mat-form-field
        appearance="outline">
        <mat-label>Otra solucución energética</mat-label>
        <input
          required
          type="text"
          matInput
          placeholder="Escriba la otra solución energética"
          formControlName="otra_solucion">
        <mat-error *ngIf="form.get('otra_solucion').status === 'INVALID'">
          <app-form-errors
            errorPrefix="Este campo es requerido"
            [errors]="form.get('otra_solucion').errors">
          </app-form-errors>
        </mat-error>
      </mat-form-field>
      <div
        fxFill
        fxLayout="column"
        fxLayoutGap="12px"
        fxLayoutAlign="center center">
        <mat-checkbox
          formControlName="deseo_recibir">
          Deseo recibir la notificación al correo electrónico
        </mat-checkbox>
        <mat-divider></mat-divider>
        <app-autorizacion-tratamiento
          (sendIdPolitic)="reciveIdPolitic($event)"
          fxLayout="column"
          fxLayoutGap="7px"
          fxLayoutAlign="center center"
          [control]="form.get('autorizacion')">
        </app-autorizacion-tratamiento>
        <re-captcha
          formControlName="recaptcha"
          (resolved)="recaptchaResolved($event)">
        </re-captcha>
      </div>
      <div
        fxFill
        class="terms-and-conditions"
        fxLayout="row"
        fxLayoutAlign="end end">
        <button
          color="accent"
          mat-raised-button
          (click)="guardar()"
          [disabled]="form.invalid || (_loadingService.getHTTPStatus() | async)"
          mat-button>
          {{ textButton }}
        </button>
      </div>
    </form>
</div>
